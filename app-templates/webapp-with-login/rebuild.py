import sqlite3
import random
import string
import os
import wikipedia

def random_password():
    return ''.join(random.choice(string.ascii_lowercase) for i in range(20))

os.remove("accounts.db")

con = sqlite3.connect("accounts.db")
cur = con.cursor()

cur.execute("CREATE TABLE users (username TEXT NOT NULL, password TEXT NOT NULL, secret TEXT);")

names = ["alice", "bob", "charlie", "diedre", "ennis", "faye", "gilberto", "honeyboo", "iggy", "jackie"]
for i in range(10):
    user = names[i] + str(random.randint(1000, 9999))
    passwd = random_password()
    secret_page = wikipedia.random(1)
    cur.execute("INSERT INTO users (username, password, secret) VALUES (?, ?, ?);", (user, passwd, secret_page,))

con.commit()
con.close()
