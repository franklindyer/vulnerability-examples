import sqlite3
import random
import string
import os
import wikipedia
import hashlib, uuid
from loginAppUtils import *
from sqliteDatabaseManager import *

def random_password():
    return ''.join(random.choice(string.ascii_lowercase) for i in range(20))

try:
    os.remove("accounts.db")
except OSError:
    pass

dbman = SqliteLoginDatabaseManager("accounts.db")
dbman.create_users_table()
loginapp = SimpleLoginApp(dbman)

names = [
    "alice", "bob", "charlie", "diedre", "ennis", "faye", 
    "gilberto", "honeyboo", "iggy", "jackie"
]
for i in range(10):
    user = names[i] + str(random.randint(1000, 9999))
    passwd = random_password()
    if i < 1:
        print(f"You can use the username {user} with password {passwd}.")
    personal = f"My secret is: {wikipedia.random(1)}"
    loginapp.add_user(user, passwd, personal)

