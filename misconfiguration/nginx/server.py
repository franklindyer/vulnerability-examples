import random
from flask import Flask, request

titles = [
    "Nginx Love: Web Perfection",
    "Nginx Rocks: Webserver Bliss",
    "Nginx Fan Page: Web Magic",
    "Nginx Admiration: Speed & Style",
    "Nginx Enthusiasts: #1 Fan Club",
    "Nginx Obsession: Web Marvel",
    "Nginx Passion: Webserver Devotees",
    "Nginx Rhapsody: Server Superhero",
    "Nginx Worship: Speed & Security",
    "Nginx Charm: Web Excellence"
]
messages = [
    "Nginx is my web server superhero â€“ it serves web pages faster than a caffeinated squirrel on roller skates!",
    "I use Nginx because it handles traffic like a bouncer at a rock concert, politely telling unruly requests to 'move along, please.'",
    "Why did the developer bring Nginx to the party? Because it knows how to balance things, from requests to the buffet table!",
    "Nginx: Making load balancing look easy, like a pro juggler handling a dozen flaming bowling pins. ðŸ”¥ðŸŽ³",
    "I'm so in love with Nginx that I want to take it out for a romantic dinner â€“ just me, Nginx, and a server-side salad. Bon appÃ©tit!",
    "Nginx â€“ where every HTTP request feels like a gentle, well-orchestrated ballet.",
    "Nginx: the silent guardian of my web servers, ensuring a peaceful night's sleep.",
    "Nginx makes me feel like I have my own personal traffic cop for the internet.",
    "Nginx: the secret ingredient in the recipe for serving web goodness with a dash of magic.",
    "Why do I love Nginx? Because it turns web traffic chaos into a calm, serene garden of digital zen.",
    "Nginx, the web server that makes other servers jealous of its performance.",
    "Nginx is so fast that it outruns Usain Bolt in a race to serve web pages!",
    "I trust Nginx with my web traffic more than I trust my morning coffee to wake me up.",
    "Nginx: Because waiting for web pages to load is so last season.",
    "Nginx handles traffic spikes like a champ, while other servers are still trying to tie their shoelaces.",
    "I like my web servers like I like my superheroes â€“ strong, reliable, and named Nginx.",
    "Nginx doesn't do magic tricks, but it sure makes slow-loading websites disappear.",
    "Nginx: Where '404 Not Found' errors go to hide and never be seen again.",
    "My heart belongs to Nginx, and my web traffic loves it too!",
    "Nginx â€“ because serving web pages shouldn't be rocket science, just rocket fast!"
]
home_header = "<h1>" + random.choice(titles) + "</h1>"
home_intro = "<p>This private page is dedicated to professing my love to nginx.</p>"
messages = random.choices(messages, k=3)

app = Flask(__name__)

@app.route('/index')
def build_home():
    html_string = home_header + home_intro
    html_string += "<ul>"
    html_string += ''.join(["<li>" + m + "</li>" for m in messages])
    html_string += "</ul>"
    return html_string

@app.route('/admin', methods=['GET'])
def admin_page():
    admin_form = "<h1>Admin</h1>"
    admin_form += "<form action='/admin' method='POST'>"
    admin_form += "<label for='message'>Message:</label>"
    admin_form += "<textarea id='message' name='message'></textarea>"
    admin_form += "<button type='submit'>Submit</button>"
    admin_form += "</form>"
    return admin_form

@app.route('/admin', methods=['POST'])
def admin_message():
    global messages
    messages = messages + [request.form['message']]
    return "Your message has been added!"

app.run()
