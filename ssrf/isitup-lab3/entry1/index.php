<head>
<style>
pre {
    padding: 5px;
    background-color: #eeeeee;
    overflow: scroll;
}
</style>
</head>

<body>
<p>Your IP address is: <?php echo $_SERVER['REMOTE_ADDR'] ?></p>

<?php

function urlExists($url=NULL)  
{  
    if($url == NULL) return false;  
    $ch = curl_init($url);  
    curl_setopt($ch, CURLOPT_TIMEOUT, 5);  
    curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5);  
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);  
    $data = curl_exec($ch);  
    $httpcode = curl_getinfo($ch, CURLINFO_HTTP_CODE);  
    curl_close($ch);  

    // return $httpcode >= 200 && $httpcode < 400;
    return $data;
} 

?>

<?php if ($_SERVER['REQUEST_METHOD'] == 'GET') { ?>
<form action="<?php echo $_SERVER['PHP_SELF'] ?>" method="POST">
    <input type="text" name="url"/>
    <br/>
    <input type="submit" value="Check site"/>
</form>
<?php } else if ($_SERVER['REQUEST_METHOD'] == 'POST') { 
    $resp = urlExists($_POST['url']);
    if ($resp) {
        echo "The site ".$_POST['url']." is up. Here is its HTML: <br>";
        ?> <pre> <?php
        echo htmlspecialchars($resp);
        ?> </pre> <?php
    } else {
        echo "The site ".$_POST['url']." is down.";
    }
} ?>
</body>
